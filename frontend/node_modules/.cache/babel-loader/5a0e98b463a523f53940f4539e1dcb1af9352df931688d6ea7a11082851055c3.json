{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\gawa\\\\frontend\\\\src\\\\components\\\\CompleteProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { fetchCurrentUser, updateCurrentUser } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompleteProfilePage = ({\n  setCurrentPage\n}) => {\n  _s();\n  const [userData, setUserData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    postalCode: ''\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({});\n\n  // Fetch current user data\n  useEffect(() => {\n    fetchUserData();\n  }, []);\n  const fetchUserData = async () => {\n    try {\n      setIsLoading(true);\n      const data = await fetchCurrentUser();\n      if (data.user) {\n        var _data$user$name, _data$user$name2;\n        // Backend currently only returns id and name, so we'll use defaults for other fields\n        setUserData({\n          firstName: data.user.firstName || ((_data$user$name = data.user.name) === null || _data$user$name === void 0 ? void 0 : _data$user$name.split(' ')[0]) || '',\n          lastName: data.user.lastName || ((_data$user$name2 = data.user.name) === null || _data$user$name2 === void 0 ? void 0 : _data$user$name2.split(' ')[1]) || '',\n          email: data.user.email || '',\n          phone: data.user.phone || '',\n          address: data.user.address || '',\n          city: data.user.city || '',\n          postalCode: data.user.postalCode || ''\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n      setMessage('Failed to load profile data. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!userData.firstName.trim()) {\n      newErrors.firstName = 'First name is required';\n    }\n    if (!userData.lastName.trim()) {\n      newErrors.lastName = 'Last name is required';\n    }\n    if (!userData.email.trim()) {\n      newErrors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(userData.email)) {\n      newErrors.email = 'Please enter a valid email';\n    }\n    if (!userData.phone.trim()) {\n      newErrors.phone = 'Phone number is required';\n    }\n    if (!userData.address.trim()) {\n      newErrors.address = 'Address is required';\n    }\n    if (!userData.city.trim()) {\n      newErrors.city = 'City is required';\n    }\n    if (!userData.postalCode.trim()) {\n      newErrors.postalCode = 'Postal code is required';\n    }\n\n    // Ensure all error values are strings\n    Object.keys(newErrors).forEach(key => {\n      if (typeof newErrors[key] !== 'string') {\n        newErrors[key] = String(newErrors[key]);\n      }\n    });\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    setIsSaving(true);\n    setMessage('');\n    try {\n      const data = await updateCurrentUser(userData);\n      if (data.success || data.message) {\n        setMessage('Profile updated successfully! Redirecting to home...');\n        setTimeout(() => {\n          setCurrentPage('home');\n        }, 2000);\n      } else {\n        // Ensure data.detail is a string\n        const errorMessage = data.detail ? typeof data.detail === 'string' ? data.detail : 'Failed to update profile. Please try again.' : 'Failed to update profile. Please try again.';\n        setMessage(errorMessage);\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      setMessage('Failed to update profile. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Ensure message is always a string\n  const safeMessage = typeof message === 'string' ? message : 'An error occurred';\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.8\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-lg\",\n          children: \"Loading your profile...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 opacity-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0\",\n        style: {\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff6b35' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl w-full relative z-10\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6\n        },\n        className: \"bg-white rounded-2xl shadow-2xl overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-orange-500 to-red-500 px-8 py-6 text-white text-center\",\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              scale: 0\n            },\n            animate: {\n              scale: 1\n            },\n            transition: {\n              delay: 0.2,\n              type: \"spring\",\n              stiffness: 200\n            },\n            className: \"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold mb-2\",\n            children: \"Complete Your Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-orange-100\",\n            children: \"Help us deliver your orders perfectly!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-8 py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"First Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"firstName\",\n                  value: userData.firstName,\n                  onChange: handleInputChange,\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.firstName ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"Enter your first name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), errors.firstName && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-500 text-sm mt-1\",\n                  children: String(errors.firstName)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Last Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"lastName\",\n                  value: userData.lastName,\n                  onChange: handleInputChange,\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.lastName ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"Enter your last name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), errors.lastName && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-500 text-sm mt-1\",\n                  children: String(errors.lastName)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Email Address *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                value: userData.email,\n                onChange: handleInputChange,\n                className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.email ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"Enter your email address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: String(errors.email)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Phone Number *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                name: \"phone\",\n                value: userData.phone,\n                onChange: handleInputChange,\n                className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.phone ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"Enter your phone number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: String(errors.phone)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Street Address *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"address\",\n                value: userData.address,\n                onChange: handleInputChange,\n                className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.address ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"Enter your street address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), errors.address && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: String(errors.address)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"City *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"city\",\n                  value: userData.city,\n                  onChange: handleInputChange,\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.city ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"Enter your city\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), errors.city && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-500 text-sm mt-1\",\n                  children: String(errors.city)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Postal Code *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"postalCode\",\n                  value: userData.postalCode,\n                  onChange: handleInputChange,\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${errors.postalCode ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"Enter postal code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), errors.postalCode && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-500 text-sm mt-1\",\n                  children: String(errors.postalCode)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), safeMessage && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: -10\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              className: `p-4 rounded-lg text-center ${safeMessage.includes('successfully') ? 'bg-green-100 text-green-700 border border-green-300' : 'bg-red-100 text-red-700 border border-red-300'}`,\n              children: safeMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              type: \"submit\",\n              disabled: isSaving,\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              className: `w-full py-4 px-6 rounded-lg font-semibold text-white text-lg transition-all duration-200 ${isSaving ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600'}`,\n              children: isSaving ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), \"Updating Profile...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this) : 'Complete Profile'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentPage('home'),\n              className: \"text-gray-500 hover:text-orange-500 transition-colors duration-200\",\n              children: \"\\u2190 Back to Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(CompleteProfilePage, \"wEEvd/CX1N8/HEuvsL6wEaabndA=\");\n_c = CompleteProfilePage;\nexport default CompleteProfilePage;\nvar _c;\n$RefreshReg$(_c, \"CompleteProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","motion","fetchCurrentUser","updateCurrentUser","jsxDEV","_jsxDEV","CompleteProfilePage","setCurrentPage","_s","userData","setUserData","firstName","lastName","email","phone","address","city","postalCode","isLoading","setIsLoading","isSaving","setIsSaving","message","setMessage","errors","setErrors","fetchUserData","data","user","_data$user$name","_data$user$name2","name","split","error","console","handleInputChange","e","value","target","prev","validateForm","newErrors","trim","test","Object","keys","forEach","key","String","length","handleSubmit","preventDefault","success","setTimeout","errorMessage","detail","safeMessage","className","children","div","initial","opacity","scale","animate","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","y","transition","duration","delay","type","stiffness","onSubmit","onChange","placeholder","includes","button","disabled","whileHover","whileTap","onClick","_c","$RefreshReg$"],"sources":["C:/Projects/gawa/frontend/src/components/CompleteProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { fetchCurrentUser, updateCurrentUser } from '../api';\r\n\r\nconst CompleteProfilePage = ({ setCurrentPage }) => {\r\n  const [userData, setUserData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    city: '',\r\n    postalCode: ''\r\n  });\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Fetch current user data\r\n  useEffect(() => {\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const data = await fetchCurrentUser();\r\n      \r\n      if (data.user) {\r\n        // Backend currently only returns id and name, so we'll use defaults for other fields\r\n        setUserData({\r\n          firstName: data.user.firstName || data.user.name?.split(' ')[0] || '',\r\n          lastName: data.user.lastName || data.user.name?.split(' ')[1] || '',\r\n          email: data.user.email || '',\r\n          phone: data.user.phone || '',\r\n          address: data.user.address || '',\r\n          city: data.user.city || '',\r\n          postalCode: data.user.postalCode || ''\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n      setMessage('Failed to load profile data. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!userData.firstName.trim()) {\r\n      newErrors.firstName = 'First name is required';\r\n    }\r\n    if (!userData.lastName.trim()) {\r\n      newErrors.lastName = 'Last name is required';\r\n    }\r\n    if (!userData.email.trim()) {\r\n      newErrors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(userData.email)) {\r\n      newErrors.email = 'Please enter a valid email';\r\n    }\r\n    if (!userData.phone.trim()) {\r\n      newErrors.phone = 'Phone number is required';\r\n    }\r\n    if (!userData.address.trim()) {\r\n      newErrors.address = 'Address is required';\r\n    }\r\n    if (!userData.city.trim()) {\r\n      newErrors.city = 'City is required';\r\n    }\r\n    if (!userData.postalCode.trim()) {\r\n      newErrors.postalCode = 'Postal code is required';\r\n    }\r\n\r\n    // Ensure all error values are strings\r\n    Object.keys(newErrors).forEach(key => {\r\n      if (typeof newErrors[key] !== 'string') {\r\n        newErrors[key] = String(newErrors[key]);\r\n      }\r\n    });\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsSaving(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const data = await updateCurrentUser(userData);\r\n      \r\n      if (data.success || data.message) {\r\n        setMessage('Profile updated successfully! Redirecting to home...');\r\n        setTimeout(() => {\r\n          setCurrentPage('home');\r\n        }, 2000);\r\n      } else {\r\n        // Ensure data.detail is a string\r\n        const errorMessage = data.detail \r\n          ? (typeof data.detail === 'string' ? data.detail : 'Failed to update profile. Please try again.')\r\n          : 'Failed to update profile. Please try again.';\r\n        setMessage(errorMessage);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      setMessage('Failed to update profile. Please try again.');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  // Ensure message is always a string\r\n  const safeMessage = typeof message === 'string' ? message : 'An error occurred';\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center\">\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          className=\"text-center\"\r\n        >\r\n          <div className=\"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 text-lg\">Loading your profile...</p>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4\">\r\n      {/* Background Pattern */}\r\n      <div className=\"absolute inset-0 opacity-10\">\r\n        <div className=\"absolute inset-0\" style={{\r\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff6b35' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\r\n        }}></div>\r\n      </div>\r\n\r\n      <div className=\"max-w-2xl w-full relative z-10\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"bg-white rounded-2xl shadow-2xl overflow-hidden\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-orange-500 to-red-500 px-8 py-6 text-white text-center\">\r\n            <motion.div\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1 }}\r\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\r\n              className=\"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4\"\r\n            >\r\n              <span className=\"text-3xl\">👤</span>\r\n            </motion.div>\r\n            <h1 className=\"text-3xl font-bold mb-2\">Complete Your Profile</h1>\r\n            <p className=\"text-orange-100\">Help us deliver your orders perfectly!</p>\r\n          </div>\r\n\r\n          {/* Form */}\r\n          <div className=\"px-8 py-8\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {/* Name Fields */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    First Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    value={userData.firstName}\r\n                    onChange={handleInputChange}\r\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                      errors.firstName ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"Enter your first name\"\r\n                  />\r\n                  {errors.firstName && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.firstName)}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    Last Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    value={userData.lastName}\r\n                    onChange={handleInputChange}\r\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                      errors.lastName ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"Enter your last name\"\r\n                  />\r\n                  {errors.lastName && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.lastName)}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Email Address *\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={userData.email}\r\n                  onChange={handleInputChange}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                    errors.email ? 'border-red-500' : 'border-gray-300'\r\n                  }`}\r\n                  placeholder=\"Enter your email address\"\r\n                />\r\n                                  {errors.email && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.email)}</p>\r\n                  )}\r\n              </div>\r\n\r\n              {/* Phone */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Phone Number *\r\n                </label>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  value={userData.phone}\r\n                  onChange={handleInputChange}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                    errors.phone ? 'border-red-500' : 'border-gray-300'\r\n                  }`}\r\n                  placeholder=\"Enter your phone number\"\r\n                />\r\n                                  {errors.phone && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.phone)}</p>\r\n                  )}\r\n              </div>\r\n\r\n              {/* Address */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Street Address *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"address\"\r\n                  value={userData.address}\r\n                  onChange={handleInputChange}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                    errors.address ? 'border-red-500' : 'border-gray-300'\r\n                  }`}\r\n                  placeholder=\"Enter your street address\"\r\n                />\r\n                                  {errors.address && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.address)}</p>\r\n                  )}\r\n              </div>\r\n\r\n              {/* City and Postal Code */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    City *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"city\"\r\n                    value={userData.city}\r\n                    onChange={handleInputChange}\r\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                      errors.city ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"Enter your city\"\r\n                  />\r\n                  {errors.city && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.city)}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    Postal Code *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"postalCode\"\r\n                    value={userData.postalCode}\r\n                    onChange={handleInputChange}\r\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 ${\r\n                      errors.postalCode ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"Enter postal code\"\r\n                  />\r\n                  {errors.postalCode && (\r\n                    <p className=\"text-red-500 text-sm mt-1\">{String(errors.postalCode)}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Message */}\r\n              {safeMessage && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: -10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className={`p-4 rounded-lg text-center ${\r\n                    safeMessage.includes('successfully') \r\n                      ? 'bg-green-100 text-green-700 border border-green-300' \r\n                      : 'bg-red-100 text-red-700 border border-red-300'\r\n                  }`}\r\n                >\r\n                  {safeMessage}\r\n                </motion.div>\r\n              )}\r\n\r\n              {/* Submit Button */}\r\n              <motion.button\r\n                type=\"submit\"\r\n                disabled={isSaving}\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                className={`w-full py-4 px-6 rounded-lg font-semibold text-white text-lg transition-all duration-200 ${\r\n                  isSaving\r\n                    ? 'bg-gray-400 cursor-not-allowed'\r\n                    : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600'\r\n                }`}\r\n              >\r\n                {isSaving ? (\r\n                  <span className=\"flex items-center justify-center\">\r\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                    Updating Profile...\r\n                  </span>\r\n                ) : (\r\n                  'Complete Profile'\r\n                )}\r\n              </motion.button>\r\n            </form>\r\n\r\n            {/* Navigation */}\r\n            <div className=\"mt-6 text-center\">\r\n              <button\r\n                onClick={() => setCurrentPage('home')}\r\n                className=\"text-gray-500 hover:text-orange-500 transition-colors duration-200\"\r\n              >\r\n                ← Back to Home\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompleteProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}